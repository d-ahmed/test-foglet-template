(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){e.exports=a(366)},130:function(e,t,a){},132:function(e,t,a){},134:function(e,t,a){},136:function(e,t,a){},260:function(e,t){},262:function(e,t){},301:function(e,t){},366:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),r=a(43),c=a.n(r),i=(a(130),a(7)),s=a(12),l=a(8),d=a(9),u=a(10),h=(a(132),a(77)),p=(a(134),a(136),a(44)),g=a.n(p),f=a(45),m=a.n(f),v=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onMove",value:function(e){this.props.onNavigation(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"Navigation"},o.a.createElement(g.a,{className:"Btn keyboard_arrow_left",onClick:this.onMove.bind(this,"left")},o.a.createElement(m.a,null,"keyboard_arrow_left")),o.a.createElement(g.a,{className:"Btn keyboard_arrow_up",onClick:this.onMove.bind(this,"up")},o.a.createElement(m.a,null,"keyboard_arrow_up")),o.a.createElement(g.a,{className:"Btn keyboard_arrow_right",onClick:this.onMove.bind(this,"right")},o.a.createElement(m.a,null,"keyboard_arrow_right")),o.a.createElement(g.a,{className:"Btn keyboard_arrow_down",onClick:this.onMove.bind(this,"down")},o.a.createElement(m.a,null,"keyboard_arrow_down")))}}]),t}(n.Component),b=a(58),y=a(76),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).render=function(){return null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.sigma,a=e.nodes,n=e.edges;t.graph.clear(),a.forEach(function(e){t.graph.addNode(e)}),t.refresh(),n.forEach(function(e){t.graph.addEdge(e)}),t.refresh()}}]),t}(n.Component),k=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(l.a)(this,Object(d.a)(t).call(this,e));var n=new y.template({foglet:{overlays:[]}},!1);return n.setDescriptor({id:n.foglet.inViewID,x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random())}),a.state={template:n,myNode:Object.assign({id:n.foglet.inViewID,label:"Daniel - (".concat(n.getDescriptor().x,",").concat(n.getDescriptor().y,")"),x:3,y:6,size:4,color:"#000"},n.getDescriptor()),graph:{nodes:[],edges:[]}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.addNode(null,this.state.myNode),this.state.template.connection(null,null).then(function(){}),this.spawnTarget("1",{coordinates:{x:5,y:5},perimeter:4}),setInterval(function(){e.refresh()},2e3)}},{key:"refresh",value:function(){var e=this;Array.from(this.state.template.foglet._networkManager._overlays.keys(),function(t){var a=Array.from(e.state.template.foglet.overlay(t)._network._rps.partialView.values()),n=a.map(function(e){return{peer:e.peer,desc:e.descriptor}}).map(function(e){var t=e.peer,a=e.desc;return delete a.z,Object.assign({id:t,label:"".concat(a.id," - (").concat(a.x,",").concat(a.y,")"),size:4,color:"#000"},a)}),o=e.state.template.foglet.inViewID;n.push(Object.assign({id:o,label:"Daniel - (".concat(e.state.template.getDescriptor().x,",").concat(e.state.template.getDescriptor().y,")"),size:4,color:"#000"},e.state.template.getDescriptor()));var r=a.map(function(e){return e.peer}).map(function(e){return{id:"".concat(o,"-").concat(e),source:o,target:e}}),c=e.state.graph;c.nodes=n,c.edges=r,e.setState({graph:c})})}},{key:"spawnTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return console.log("please specify an id");var a=new y.target(e,t),n=a.getCoordinates(),o=n.x,r=n.y;this.addNode(null,{id:a.id,label:"p-".concat(e,"(").concat(o,", ").concat(r,")"),x:o,y:r,size:4,color:"#RFD"}),this.state.template.targetSpawned(a)}},{key:"onNavigation",value:function(e){switch(e){case"up":console.log("decrease y"),this.updateNode({id:"n1",x:5,y:40});break;case"left":console.log("decrease x");break;case"right":console.log("increase x");break;case"down":console.log("increase y");break;default:console.log("Sorry, we are out of "+e+".")}}},{key:"addNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"n"+100*Math.random(),label:"da - "+Math.floor(10*Math.random()),x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random()),size:4,color:"#000"},a=this.state.graph;a.nodes=Object(h.a)(a.nodes).concat([t]),this.setState({graph:a})}},{key:"addEdge",value:function(e,t){var a={id:"e"+100*Math.random(),source:e,target:t,label:"".concat(e,"-").concat(t)},n=this.state.graph;n.edges=Object(h.a)(n.edges).concat([a]),this.setState({graph:n})}},{key:"updateNode",value:function(e){if(e||e.id){var t=this.state.graph,a=t.nodes.find(function(t){return t.id==e.id});a&&(a=Object.assign(a,e),this.setState({graph:t}))}else console.log("id required")}},{key:"renderGraph",value:function(){return o.a.createElement("div",null,o.a.createElement(b.c,{graph:this.state.graph,settings:{drawEdges:!0,clone:!1}},o.a.createElement(b.a,{default:"dotted"}),o.a.createElement(b.b,{default:"diamond"}),o.a.createElement(w,{nodes:this.state.graph.nodes,edges:this.state.graph.edges})))}},{key:"render",value:function(){return o.a.createElement("div",{className:"FogletTemplate"},o.a.createElement("p",null,"My foglet template"),this.renderGraph(),o.a.createElement(v,{className:"Navigation",onNavigation:this.onNavigation.bind(this)}))}}]),t}(n.Component),j=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(k,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[125,2,1]]]);
//# sourceMappingURL=main.78d0657b.chunk.js.map